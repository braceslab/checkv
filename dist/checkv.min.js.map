{"version":3,"sources":["node_modules/browser-pack/_prelude.js","_main.js","lib/Check.js","lib/lib.js","lib/validate/array.js","lib/validate/function.js","lib/validate/index.js","lib/validate/number.js","lib/validate/object.js","lib/validate/string.js"],"names":[],"mappings":"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","file":"checkv.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict'\n\nconst lib = require('./lib/lib')\nconst Check = require('./lib/Check')\n\nconst check = new Check()\ncheck.lib = lib\n\nmodule.exports = check\n\nwindow.checkv=check","'use strict'\n\nconst validate = require('./validate/')\n\n// const log = require('log-segment')\n// log.add({segments: lib.checkv.log})\n\n/**\n * Rules\n\n */\n\nconst Check = function () {\n  /**\n   * @param {*} value\n   * @param {Rules} rules\n   * @return boolean\n   */\n  function check (value, rules) {\n    // check rules\n    if (!rules || Object.keys(rules).length < 1) {\n      console.log('chekcv', 'no rules checking value', value)\n      return true\n    }\n\n    // apply rules\n    let _match = true\n    for (const rule in rules) {\n      if (\n        !validate.number[rule] &&\n        !validate.string[rule] &&\n        !validate.array[rule] &&\n        !validate.object[rule] &&\n        !validate.function[rule]\n      ) {\n        return __unknownRule(value, rule)\n      }\n      let _compare = rules[rule]\n\n      switch (rule) {\n        // number cases\n        case 'isNumber':\n        case 'isInteger':\n        case 'isPositive':\n          _match = _compare === validate.number[rule](value)\n          break\n        case 'isEqual':\n        case 'isGreater':\n        case 'isLess':\n        case 'isGreaterOrEqual':\n        case 'isLessOrEqual':\n          _match = validate.number[rule](value, _compare)\n          break\n        // string cases\n        case 'isString':\n        case 'isEmail':\n          _match = _compare === validate.string[rule](value)\n          break\n        case 'isShorter':\n        case 'isLonger':\n          _match = validate.string[rule](value, _compare)\n          break\n        // object cases\n        case 'isSet':\n        case 'isObject':\n        case 'isArray':\n          _match = _compare === validate.object[rule](value)\n          break\n        case 'hasProperties':\n        case 'isExactly':\n        case 'isEnum':\n          _match = validate.object[rule](value, _compare)\n          break\n        // array cases\n        case 'isIn':\n          _match = validate.array[rule](value, _compare)\n          break\n        // function cases\n        case 'isFunction':\n          _match = _compare === validate.function[rule](value)\n          break\n        default:\n          return __unknownRule(value, rule)\n      }\n      if (!_match) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  function __unknownRule (value, rule) {\n    console.warn('checkv', 'unknow rule', rule, 'checking value', value)\n    return false\n  }\n\n  return check\n}\n\nmodule.exports = Check\n","'use strict'\n\nconst lib = {\n  checkv: {\n    log: {'checkv': { color: 'white' }}\n  }\n}\n\nmodule.exports = lib\n","'use strict'\n\nconst array = {\n  isIn: function (value, values) {\n    try {\n      return values.indexOf(value) !== -1\n    } catch (e) {\n      return false\n    }\n  }\n}\n\nmodule.exports = array\n","'use strict'\n\nconst f = {\n  isFunction: function (value) {\n    return typeof value === 'function'\n  }\n}\n\nmodule.exports = f\n","'use strict'\n\nconst validate = {\n  function: require('./function'),\n  number: require('./number'),\n  string: require('./string'),\n  object: require('./object'),\n  array: require('./array')\n}\n\nmodule.exports = validate\n","'use strict'\n\nconst number = {\n  isNumber: function (value) {\n    return typeof value === 'number'\n  },\n  isInteger: function (value) {\n    return number.isNumber(value) && Number.isInteger(value)\n  },\n  isPositive: function (value) {\n    return number.isNumber(value) && value >= 0\n  },\n  isEqual: function (value, to) {\n    return number.isNumber(value) && value === to\n  },\n  isGreater: function (value, than) {\n    return number.isNumber(value) && value > than\n  },\n  isLess: function (value, than) {\n    return number.isNumber(value) && value < than\n  },\n  isGreaterOrEqual: function (value, than) {\n    return number.isNumber(value) && value >= than\n  },\n  isLessOrEqual: function (value, than) {\n    return number.isNumber(value) && value <= than\n  }\n}\n\nmodule.exports = number\n","'use strict'\n\nconst object = {\n  isSet: function (value) {\n    return value !== null && value !== undefined\n  },\n  isObject: function (value) {\n    return value && typeof value === 'object'\n  },\n  isArray: function (value) {\n    return value instanceof Array\n  },\n  isEnum: function (value, _enum) {\n    try {\n      for (let key in _enum) {\n        if (_enum[key] === value) {\n          return true\n        }\n      }\n    } catch (e) {}\n    return false\n  },\n  /**\n   * implicitly check isObject\n   */\n  hasProperties: function (value, properties) {\n    if (!properties) {\n      console.warn('checkv', 'object.hasProperties, missing properties')\n    }\n    if (!properties || !object.isObject(value)) {\n      return false\n    }\n    for (let i = 0; i < properties.length; i++) {\n      if (!value.hasOwnProperty(properties[i])) {\n        return false\n      }\n    }\n    return true\n  },\n  /**\n   * @todo use deep-strict-equal?\n   */\n  isExactly: function (value, to) {\n    if (typeof to !== typeof value) {\n      return false\n    }\n\n    if (value === null && to === null) {\n      return true\n    }\n\n    if (typeof to === 'object') {\n      if (to.constructor.name !== value.constructor.name) {\n        return false\n      }\n\n      try {\n        if (value instanceof Error && to instanceof Error) {\n          return value.code === to.code || value.code === to.message || value.message === to.code\n        }\n      } catch (e) {\n        return false\n      }\n\n      if ((to instanceof Array && value instanceof Array) ||\n       (to instanceof Object || value instanceof Object)) {\n        for (let i = 0; i < to.length; i++) {\n          if (!object.isExactly(value[i], to[i])) {\n            return false\n          }\n        }\n        return true\n      }\n\n      console.warn('checkv', 'object.isExactly, unknown instance', to.constructor.name)\n      return false\n    }\n\n    // primitives\n    return value === to\n  }\n}\n\nmodule.exports = object\n","'use strict'\n\nconst string = {\n  isString: function (value) {\n    return typeof value === 'string'\n  },\n  isShorter: function (value, than) {\n    return string.isString(value) && value.length < than\n  },\n  isLonger: function (value, than) {\n    return string.isString(value) && value.length > than\n  },\n  isEmail: function (value) {\n    if (!value || !string.isString(value)) {\n      return false\n    }\n    // eslint-disable-next-line\n    return (/^[\\w\\.-]+@[\\w\\.-]+$/i).test(value)\n  }\n}\n\nmodule.exports = string\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJfbWFpbi5qcyIsImxpYi9DaGVjay5qcyIsImxpYi9saWIuanMiLCJsaWIvdmFsaWRhdGUvYXJyYXkuanMiLCJsaWIvdmFsaWRhdGUvZnVuY3Rpb24uanMiLCJsaWIvdmFsaWRhdGUvaW5kZXguanMiLCJsaWIvdmFsaWRhdGUvbnVtYmVyLmpzIiwibGliL3ZhbGlkYXRlL29iamVjdC5qcyIsImxpYi92YWxpZGF0ZS9zdHJpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxhQUVBLEdBQU0sS0FBTSxRQUFRLFdBQVIsQ0FBWixDQUNBLEdBQU0sT0FBUSxRQUFRLGFBQVIsQ0FBZCxDQUVBLEdBQU0sT0FBUSxHQUFJLE1BQWxCLENBQ0EsTUFBTSxHQUFOLENBQVksR0FBWixDQUVBLE9BQU8sT0FBUCxDQUFpQixLQUFqQixDQUVBLE9BQU8sTUFBUCxDQUFjLEtBQWQ7OztBQ1ZBLGFBRUEsR0FBTSxVQUFXLFFBQVEsYUFBUixDQUFqQixDQVVBLEdBQU0sT0FBUSxRQUFSLE1BQVEsRUFBWSxDQU14QixRQUFTLE1BQVQsQ0FBZ0IsS0FBaEIsQ0FBdUIsS0FBdkIsQ0FBOEIsQ0FFNUIsR0FBSSxDQUFDLEtBQUQsRUFBVSxPQUFPLElBQVAsQ0FBWSxLQUFaLEVBQW1CLE1BQW5CLENBQTRCLENBQTFDLENBQTZDLENBQzNDLFFBQVEsR0FBUixDQUFZLFFBQVosQ0FBc0IseUJBQXRCLENBQWlELEtBQWpELEVBQ0EsTUFBTyxLQUNSLENBR0QsR0FBSSxRQUFTLElBQWIsQ0FDQSxJQUFLLEdBQU0sS0FBWCxHQUFtQixNQUFuQixDQUEwQixDQUN4QixHQUNFLENBQUMsU0FBUyxNQUFULENBQWdCLElBQWhCLENBQUQsRUFDQSxDQUFDLFNBQVMsTUFBVCxDQUFnQixJQUFoQixDQURELEVBRUEsQ0FBQyxTQUFTLEtBQVQsQ0FBZSxJQUFmLENBRkQsRUFHQSxDQUFDLFNBQVMsTUFBVCxD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QWUsSUFDakQsQ0FOWSxDQU9iLFNBQVUsa0JBQVUsS0FBVixDQUFpQixJQUFqQixDQUF1QixDQUMvQixNQUFPLFFBQU8sUUFBUCxDQUFnQixLQUFoQixHQUEwQixNQUFNLE1BQU4sQ0FBZSxJQUNqRCxDQVRZLENBVWIsUUFBUyxpQkFBVSxLQUFWLENBQWlCLENBQ3hCLEdBQUksQ0FBQyxLQUFELEVBQVUsQ0FBQyxPQUFPLFFBQVAsQ0FBZ0IsS0FBaEIsQ0FBZixDQUF1QyxDQUNyQyxNQUFPLE1BQ1IsQ0FFRCxNQUFRLHVCQUFELENBQXlCLElBQXpCLENBQThCLEtBQTlCLENBQ1IsQ0FoQlksQ0FBZixDQW1CQSxPQUFPLE9BQVAsQ0FBaUIsTUFBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGxpYiA9IHJlcXVpcmUoJy4vbGliL2xpYicpXG5jb25zdCBDaGVjayA9IHJlcXVpcmUoJy4vbGliL0NoZWNrJylcblxuY29uc3QgY2hlY2sgPSBuZXcgQ2hlY2soKVxuY2hlY2subGliID0gbGliXG5cbm1vZHVsZS5leHBvcnRzID0gY2hlY2tcblxud2luZG93LmNoZWNrdj1jaGVjayIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB2YWxpZGF0ZSA9IHJlcXVpcmUoJy4vdmFsaWRhdGUvJylcblxuLy8gY29uc3QgbG9nID0gcmVxdWlyZSgnbG9nLXNlZ21lbnQnKVxuLy8gbG9nLmFkZCh7c2VnbWVudHM6IGxpYi5jaGVja3YubG9nfSlcblxuLyoqXG4gKiBSdWxlc1xuXG4gKi9cblxuY29uc3QgQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gICAqIEByZXR1cm4gYm9vbGVhblxuICAgKi9cbiAgZnVuY3Rpb24gY2hlY2sgKHZhbHVlLCBydWxlcykge1xuICAgIC8vIGNoZWNrIHJ1bGVzXG4gICAgaWYgKCFydWxlcyB8fCBPYmplY3Qua2V5cyhydWxlcykubGVuZ3RoIDwgMSkge1xuICAgICAgY29uc29sZS5sb2coJ2NoZWtjdicsICdubyBydWxlcyBjaGVja2luZyB2YWx1ZScsIHZhbHVlKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICAvLyBhcHBseSBydWxlc1xuICAgIGxldCBfbWF0Y2ggPSB0cnVlXG4gICAgZm9yIChjb25zdCBydWxlIGluIHJ1bGVzKSB7XG4gICAgICBpZiAoXG4gICAgICAgICF2YWxpZGF0ZS5udW1iZXJbcnVsZV0gJiZcbiAgICAgICAgIXZhbGlkYXRlLnN0cmluZ1tydWxlXSAmJlxuICAgICAgICAhdmFsaWRhdGUuYXJyYXlbcnVsZV0gJiZcbiAgICAgICAgIXZhbGlkYXRlLm9iamVjdFtydWxlXSAmJlxuICAgICAgICAhdmFsaWRhdGUuZnVuY3Rpb25bcnVsZV1cbiAgICAgICkge1xuICAgICAgICByZXR1cm4gX191bmtub3duUnVsZSh2YWx1ZSwgcnVsZSlcbiAgICAgIH1cbiAgICAgIGxldCBfY29tcGFyZSA9IHJ1bGVzW3J1bGVdXG5cbiAgICAgIHN3aXRjaCAocnVsZSkge1xuICAgICAgICAvLyBudW1iZXIgY2FzZXNcbiAgICAgICAgY2FzZSAnaXNOdW1iZXInOlxuICAgICAgICBjYXNlICdpc0ludGVnZXInOlxuICAgICAgICBjYXNlICdpc1Bvc2l0aXZlJzpcbiAgICAgICAgICBfbWF0Y2ggPSBfY29tcGFyZSA9PT0gdmFsaWRhdGUubnVtYmVyW3J1bGVdKHZhbHVlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2lzRXF1YWwnOlxuICAgICAgICBjYXNlICdpc0dyZWF0ZXInOlxuICAgICAgICBjYXNlICdpc0xlc3MnOlxuICAgICAgICBjYXNlICdpc0dyZWF0ZXJPckVxdWFsJzpcbiAgICAgICAgY2FzZSAnaXNMZXNzT3JFcXVhbCc6XG4gICAgICAgICAgX21hdGNoID0gdmFsaWRhdGUubnVtYmVyW3J1bGVdKHZhbHVlLCBfY29tcGFyZSlcbiAgICAgICAgICBicmVha1xuICAgICAgICAvLyBzdHJpbmcgY2FzZXNcbiAgICAgICAgY2FzZSAnaXNTdHJpbmcnOlxuICAgICAgICBjYXNlICdpc0VtYWlsJzpcbiAgICAgICAgICBfbWF0Y2ggPSBfY29tcGFyZSA9PT0gdmFsaWRhdGUuc3RyaW5nW3J1bGVdKHZhbHVlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2lzU2hvcnRlcic6XG4gICAgICAgIGNhc2UgJ2lzTG9uZ2VyJzpcbiAgICAgICAgICBfbWF0Y2ggPSB2YWxpZGF0ZS5zdHJpbmdbcnVsZV0odmFsdWUsIF9jb21wYXJlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIC8vIG9iamVjdCBjYXNlc1xuICAgICAgICBjYXNlICdpc1NldCc6XG4gICAgICAgIGNhc2UgJ2lzT2JqZWN0JzpcbiAgICAgICAgY2FzZSAnaXNBcnJheSc6XG4gICAgICAgICAgX21hdGNoID0gX2NvbXBhcmUgPT09IHZhbGlkYXRlLm9iamVjdFtydWxlXSh2YWx1ZSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdoYXNQcm9wZXJ0aWVzJzpcbiAgICAgICAgY2FzZSAnaXNFeGFjdGx5JzpcbiAgICAgICAgY2FzZSAnaXNFbnVtJzpcbiAgICAgICAgICBfbWF0Y2ggPSB2YWxpZGF0ZS5vYmplY3RbcnVsZV0odmFsdWUsIF9jb21wYXJlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIC8vIGFycmF5IGNhc2VzXG4gICAgICAgIGNhc2UgJ2lzSW4nOlxuICAgICAgICAgIF9tYXRjaCA9IHZhbGlkYXRlLmFycmF5W3J1bGVdKHZhbHVlLCBfY29tcGFyZSlcbiAgICAgICAgICBicmVha1xuICAgICAgICAvLyBmdW5jdGlvbiBjYXNlc1xuICAgICAgICBjYXNlICdpc0Z1bmN0aW9uJzpcbiAgICAgICAgICBfbWF0Y2ggPSBfY29tcGFyZSA9PT0gdmFsaWRhdGUuZnVuY3Rpb25bcnVsZV0odmFsdWUpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gX191bmtub3duUnVsZSh2YWx1ZSwgcnVsZSlcbiAgICAgIH1cbiAgICAgIGlmICghX21hdGNoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBfX3Vua25vd25SdWxlICh2YWx1ZSwgcnVsZSkge1xuICAgIGNvbnNvbGUud2FybignY2hlY2t2JywgJ3Vua25vdyBydWxlJywgcnVsZSwgJ2NoZWNraW5nIHZhbHVlJywgdmFsdWUpXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZXR1cm4gY2hlY2tcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDaGVja1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGxpYiA9IHtcbiAgY2hlY2t2OiB7XG4gICAgbG9nOiB7J2NoZWNrdic6IHsgY29sb3I6ICd3aGl0ZScgfX1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpYlxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGFycmF5ID0ge1xuICBpc0luOiBmdW5jdGlvbiAodmFsdWUsIHZhbHVlcykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdmFsdWVzLmluZGV4T2YodmFsdWUpICE9PSAtMVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3QgZiA9IHtcbiAgaXNGdW5jdGlvbjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJ1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZlxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHZhbGlkYXRlID0ge1xuICBmdW5jdGlvbjogcmVxdWlyZSgnLi9mdW5jdGlvbicpLFxuICBudW1iZXI6IHJlcXVpcmUoJy4vbnVtYmVyJyksXG4gIHN0cmluZzogcmVxdWlyZSgnLi9zdHJpbmcnKSxcbiAgb2JqZWN0OiByZXF1aXJlKCcuL29iamVjdCcpLFxuICBhcnJheTogcmVxdWlyZSgnLi9hcnJheScpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gdmFsaWRhdGVcbiIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBudW1iZXIgPSB7XG4gIGlzTnVtYmVyOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJ1xuICB9LFxuICBpc0ludGVnZXI6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiBudW1iZXIuaXNOdW1iZXIodmFsdWUpICYmIE51bWJlci5pc0ludGVnZXIodmFsdWUpXG4gIH0sXG4gIGlzUG9zaXRpdmU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiBudW1iZXIuaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlID49IDBcbiAgfSxcbiAgaXNFcXVhbDogZnVuY3Rpb24gKHZhbHVlLCB0bykge1xuICAgIHJldHVybiBudW1iZXIuaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlID09PSB0b1xuICB9LFxuICBpc0dyZWF0ZXI6IGZ1bmN0aW9uICh2YWx1ZSwgdGhhbikge1xuICAgIHJldHVybiBudW1iZXIuaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlID4gdGhhblxuICB9LFxuICBpc0xlc3M6IGZ1bmN0aW9uICh2YWx1ZSwgdGhhbikge1xuICAgIHJldHVybiBudW1iZXIuaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlIDwgdGhhblxuICB9LFxuICBpc0dyZWF0ZXJPckVxdWFsOiBmdW5jdGlvbiAodmFsdWUsIHRoYW4pIHtcbiAgICByZXR1cm4gbnVtYmVyLmlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA+PSB0aGFuXG4gIH0sXG4gIGlzTGVzc09yRXF1YWw6IGZ1bmN0aW9uICh2YWx1ZSwgdGhhbikge1xuICAgIHJldHVybiBudW1iZXIuaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlIDw9IHRoYW5cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG51bWJlclxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IG9iamVjdCA9IHtcbiAgaXNTZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xuICB9LFxuICBpc0FycmF5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBBcnJheVxuICB9LFxuICBpc0VudW06IGZ1bmN0aW9uICh2YWx1ZSwgX2VudW0pIHtcbiAgICB0cnkge1xuICAgICAgZm9yIChsZXQga2V5IGluIF9lbnVtKSB7XG4gICAgICAgIGlmIChfZW51bVtrZXldID09PSB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZVxuICB9LFxuICAvKipcbiAgICogaW1wbGljaXRseSBjaGVjayBpc09iamVjdFxuICAgKi9cbiAgaGFzUHJvcGVydGllczogZnVuY3Rpb24gKHZhbHVlLCBwcm9wZXJ0aWVzKSB7XG4gICAgaWYgKCFwcm9wZXJ0aWVzKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2NoZWNrdicsICdvYmplY3QuaGFzUHJvcGVydGllcywgbWlzc2luZyBwcm9wZXJ0aWVzJylcbiAgICB9XG4gICAgaWYgKCFwcm9wZXJ0aWVzIHx8ICFvYmplY3QuaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXZhbHVlLmhhc093blByb3BlcnR5KHByb3BlcnRpZXNbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9LFxuICAvKipcbiAgICogQHRvZG8gdXNlIGRlZXAtc3RyaWN0LWVxdWFsP1xuICAgKi9cbiAgaXNFeGFjdGx5OiBmdW5jdGlvbiAodmFsdWUsIHRvKSB7XG4gICAgaWYgKHR5cGVvZiB0byAhPT0gdHlwZW9mIHZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgPT09IG51bGwgJiYgdG8gPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0byA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmICh0by5jb25zdHJ1Y3Rvci5uYW1lICE9PSB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvciAmJiB0byBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmNvZGUgPT09IHRvLmNvZGUgfHwgdmFsdWUuY29kZSA9PT0gdG8ubWVzc2FnZSB8fCB2YWx1ZS5tZXNzYWdlID09PSB0by5jb2RlXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGlmICgodG8gaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB8fFxuICAgICAgICh0byBpbnN0YW5jZW9mIE9iamVjdCB8fCB2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0by5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICghb2JqZWN0LmlzRXhhY3RseSh2YWx1ZVtpXSwgdG9baV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cblxuICAgICAgY29uc29sZS53YXJuKCdjaGVja3YnLCAnb2JqZWN0LmlzRXhhY3RseSwgdW5rbm93biBpbnN0YW5jZScsIHRvLmNvbnN0cnVjdG9yLm5hbWUpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAvLyBwcmltaXRpdmVzXG4gICAgcmV0dXJuIHZhbHVlID09PSB0b1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3Qgc3RyaW5nID0ge1xuICBpc1N0cmluZzogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZydcbiAgfSxcbiAgaXNTaG9ydGVyOiBmdW5jdGlvbiAodmFsdWUsIHRoYW4pIHtcbiAgICByZXR1cm4gc3RyaW5nLmlzU3RyaW5nKHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPCB0aGFuXG4gIH0sXG4gIGlzTG9uZ2VyOiBmdW5jdGlvbiAodmFsdWUsIHRoYW4pIHtcbiAgICByZXR1cm4gc3RyaW5nLmlzU3RyaW5nKHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPiB0aGFuXG4gIH0sXG4gIGlzRW1haWw6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICghdmFsdWUgfHwgIXN0cmluZy5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICByZXR1cm4gKC9eW1xcd1xcLi1dK0BbXFx3XFwuLV0rJC9pKS50ZXN0KHZhbHVlKVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RyaW5nXG4iXX0="}